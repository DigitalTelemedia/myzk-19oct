generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:root@localhost:3306/Myzk"
}

model customer_order_product {
  id              String @id @default(uuid())
  customerOrderId String
  productId       String
  quantity        Int

  @@index([customerOrderId], map: "customer_order_product_customerOrderId_fkey")
  @@index([productId], map: "customer_order_product_productId_fkey")
}

model category {
  id          String  @id
  name        String  @unique(map: "Category_name_key")
  image       String?
  href        String?
  displayName String?
}

model contact {
  id        String   @id
  name      String
  email     String
  subject   String
  message   String
  createdAt DateTime @default(now())
}

model customer_order {
  id          String    @id
  name        String
  lastname    String
  phone       String
  email       String
  company     String
  adress      String
  apartment   String
  postalCode  String
  dateTime    DateTime? @default(now())
  status      String
  city        String
  country     String
  orderNotice String?
  total       Int
}

model image {
  imageID   String @id
  productID String
  image     String
}

model product {
  id               String  @id
  slug             String  @unique(map: "Product_slug_key")
  title            String
  mainImage        String
  price            Int     @default(0)
  salePrice        Int     @default(0)
  rating           Int     @default(0)
  description      String  @db.VarChar(1500)
  manufacturer     String
  inStock          Int     @default(1)
  categoryId       String
  testcol          String? @db.VarChar(45)
  warrantyDuration Int?
  alternateImage1  String?
  alternateImage2  String?
  alternateImage3  String?
  alternateImage4  String?

  @@index([categoryId], map: "Product_categoryId_fkey")
}

model supportticket {
  id          String   @id
  name        String
  email       String
  orderNumber String
  description String
  createdAt   DateTime @default(now())
}

model user {
  id       String  @id
  email    String  @unique(map: "User_email_key")
  password String?
  role     String? @default("user")
}

model warranty {
  id              String   @id
  customerOrderId String
  productId       String
  issuedAt        DateTime @default(now())
  expiresAt       DateTime

  @@index([customerOrderId], map: "Warranty_customerOrderId_fkey")
  @@index([productId], map: "Warranty_productId_fkey")
}

model wishlist {
  id        String @id
  productId String
  userId    String

  @@index([productId], map: "Wishlist_productId_fkey")
  @@index([userId], map: "Wishlist_userId_fkey")
}
